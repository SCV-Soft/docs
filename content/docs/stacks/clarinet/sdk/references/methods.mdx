---
title: Methods
description: The Clarinet SDK provides several methods that can be used to interact with the simnet.
toc: false
---

import { Root, API, APIInfo, APIExample, Property } from 'fumadocs-ui/components/api'
import { Accordion, Accordions } from 'fumadocs-ui/components/accordion';

import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Badge } from '@/components/ui/badge';

import { InlineCode } from '@/components/inline-code';

<Root className='text-md'>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`getAccounts`</h2>

Retrieve a list of all Stacks addresses configured within the project, including wallets, deployers, and faucets.

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="get-accounts">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="get-accounts" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Getting your accounts</Badge>
    </TabsTrigger>
    <TabsTrigger value="get-account" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Selecting a specific account</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="get-accounts">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    const simnet = await initSimnet();

    const accounts = simnet.getAccounts(); // [!code highlight]

    console.log(accounts);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        Map(10) {
          "wallet_7": "ST3PF13W7Z0RRM42A8VZRVFQ75SV1K26RXEP8YGKJ",
          "wallet_1": "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",
          "wallet_3": "ST2JHG361ZXG51QTKY2NQCVBPPRRE2KZB1HR05NNC",
          "wallet_5": "ST2REHHS5J3CERCRBEPMGH7921Q6PYKAADT7JP2VB",
          "wallet_8": "ST3NBRSFKX28FQ2ZJ1MAKX58HKHSDGNV5N7R21XCP",
          "wallet_4": "ST2NEB84ASENDXKYGJPQW86YXQCEFEX2ZQPG87ND",
          "deployer": "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
          "wallet_6": "ST3AM1A56AK2C1XAFJ4115ZSV26EB49BVQ10MGCS0",
          "wallet_2": "ST2CY5V39NHDPWSXMW9QDT3HC3GD6Q6XX4CFRK9AG",
          "faucet": "STNHKEPYEPJ8ET55ZZ0M5A34J0R3N5FM2CMMMAZ6",
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```bash
        getAccounts(): Map<string, string>
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
  <TabsContent value="get-account">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('wallet_1')!; // [!code highlight]

    console.log(wallet);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5
        ```
      </Accordion>
      <Accordion title="Schema">
        ```bash
        getAccounts(): Map<string, string>
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`getAssetsMap`</h2>

Retrieve a list of asset balances associated with Stacks addresses, providing a clear overview of asset distribution.

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="get-assets-map">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="get-assets-map" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Getting account balances</Badge>
    </TabsTrigger>
    <TabsTrigger value="get-deployer-balance" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Selecting the balance of a specific account</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="get-assets-map">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    const simnet = await initSimnet();

    const assets = simnet.getAssetsMap(); // [!code highlight]
    const stxBalances = assets.get('STX')!;

    console.log(stxBalances);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        Map(10) {
          "wallet_7": "ST3PF13W7Z0RRM42A8VZRVFQ75SV1K26RXEP8YGKJ",
          "wallet_1": "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",
          "wallet_3": "ST2JHG361ZXG51QTKY2NQCVBPPRRE2KZB1HR05NNC",
          "wallet_5": "ST2REHHS5J3CERCRBEPMGH7921Q6PYKAADT7JP2VB",
          "wallet_8": "ST3NBRSFKX28FQ2ZJ1MAKX58HKHSDGNV5N7R21XCP",
          "wallet_4": "ST2NEB84ASENDXKYGJPQW86YXQCEFEX2ZQPG87ND",
          "deployer": "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
          "wallet_6": "ST3AM1A56AK2C1XAFJ4115ZSV26EB49BVQ10MGCS0",
          "wallet_2": "ST2CY5V39NHDPWSXMW9QDT3HC3GD6Q6XX4CFRK9AG",
          "faucet": "STNHKEPYEPJ8ET55ZZ0M5A34J0R3N5FM2CMMMAZ6",
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```bash
        getAssetsMap(): Map<string, Map<string, bigint>>
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="get-deployer-balance">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    const simnet = await initSimnet();

    const assets = simnet.getAssetsMap();
    const stxBalances = assets.get('STX')!;
    const deployerBalance = stxBalances.get('ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM')!; // [!code highlight]

    console.log(deployerBalance);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        100000000000000n
        ```
      </Accordion>
      <Accordion title="Schema">
        ```bash
        getAssetsMap(): Map<string, Map<string, bigint>>
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>


</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`getDataVar`</h2>

Get the value of a `data-var` defined in a contract.

### Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The contract identifier of the contract.

<span>Example: `counter`</span>
</Property>

<Property required={true} deprecated={false} name={"dataVar"} type={"string"}>
The name of the `data-var` for the contract.

<span>Example: `count`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="count">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="count" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Getting the value of a specific data variable</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Handling the response</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="count">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    const simnet = await initSimnet();

    const currentCount = simnet.getDataVar('counter', 'count'); // [!code highlight]

    console.log(currentCount);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-data-var count uint u0)
        (define-data-var contractOwner principal tx-sender)
        
        (var-set count (+ (var-get count) u1))
        (var-set contractOwner 'ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5)
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 1,
          value: 1n
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```bash
        getDataVar(contract: string, dataVar: string): ClarityValue
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { cvToValue } from '@stacks/transactions'; // [!code highlight]

    const simnet = await initSimnet();

    const contractOwner = simnet.getDataVar("counter", "contractOwner");
    const normalizedOwnerAddress = cvToValue(contractOwner); // [!code highlight]

    console.log(normalizedOwnerAddress);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-data-var count uint u0)
        (define-data-var contractOwner principal tx-sender)
        
        (var-set count (+ (var-get count) u1))
        (var-set contractOwner 'ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5)
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5
        ```
      </Accordion>
      <Accordion title="Schema">
        ```bash
        getDataVar(contract: string, dataVar: string): ClarityValue
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`getMapEntry`</h2>

Get the value of a map entry by its key. Note that it will always return an optional value `some` or `none`, just like Clarity `map-get?`.

### Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The contract identifier of the contract.

<span>Example: `pool`</span>
</Property>

<Property required={true} deprecated={false} name={"mapName"} type={"string"}>
The name of the map within the contract.

<span>Example: `Participants`</span>
</Property>

<Property required={true} deprecated={false} name={"mapKey"} type={"ClarityValue"}>
The key to access the value in the map.

<span>Example: `Cl.standardPrincipal('ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5')`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Getting the value of an entry</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Handling the response</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl } from '@stacks/transactions';

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('wallet_1')!;

    const hasParticipated = simnet.getMapEntry("pool", "Participants", Cl.standardPrincipal(wallet)); // [!code highlight]
    
    console.log(hasParticipated);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-map Participants principal bool)

        (map-set Participants 'ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5 true)
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 10,
          value: {
            type: 3,
          },
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```bash
        getMapEntry(
          contract: string,
          mapName: string,
          mapKey: ClarityValue
        ): ClarityValue
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl, cvToValue } from '@stacks/transactions'; // [!code highlight]

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('wallet_1')!;

    const hasParticipated = simnet.getMapEntry("pool", "Participants", Cl.standardPrincipal(wallet));

    const normalizedHasParticipated = cvToValue(hasParticipated); // [!code highlight]

    console.log(normalizedHasParticipated);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-map Participants principal bool)

        (map-set Participants 'ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5 true)
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: "bool",
          value: true,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```bash
        getMapEntry(
          contract: string,
          mapName: string,
          mapKey: ClarityValue
        ): ClarityValue
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`callReadOnlyFn`</h2>

Call read-only functions exposed by a contract.

This method returns an object with the result of the function call as a `ClarityValue`. It takes function arguments in the form of Clarity values, available in the package [`@stacks/transactions`](/stacks/stacks.js/packages/transactions).

### Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The contract identifier of the contract.

<span>Example: `pool`</span>
</Property>

<Property required={true} deprecated={false} name={"method"} type={"string"}>
The name of the read-only function within the contract.

<span>Example: `get-participant`</span>
</Property>

<Property required={true} deprecated={false} name={"args"} type={"ClarityValue[]"}>
The arguments to pass to the read-only function. If no arguments are needed, pass an empty array.

<span>Example: `[Cl.standardPrincipal('ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5')]`</span>
</Property>

<Property required={true} deprecated={false} name={"sender"} type={"string"}>
The Stacks address of the sender.

<span>Example: `ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Making a call with no arguments</Badge>
    </TabsTrigger>
    <TabsTrigger value="with-arguments" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>With arguments</Badge>
    </TabsTrigger>
    <TabsTrigger value="deployer" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>With an explicit contract address</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Handling the response</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl } from '@stacks/transactions';

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('wallet_1')!;

    const isActive = simnet.callReadOnlyFn('pool', 'is-active', [], wallet); // [!code highlight]
    
    console.log(isActive.result);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-participant-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 10,
          value: {
            type: 3,
          },
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
            result: ClarityValue;
            events: ClarityEvent[];
        }
        
        callReadOnlyFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="with-arguments">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl } from '@stacks/transactions';

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('wallet_1')!;

    const args = [Cl.standardPrincipal(wallet)]; // [!code highlight]

    const getContributionAmount = simnet.callReadOnlyFn('pool', 'get-participant-contribution-amount', args, wallet); // [!code highlight]
    
    console.log(getContributionAmount.result);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-participant-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 1,
          value: 420000000n,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
            result: ClarityValue;
            events: ClarityEvent[];
        }
        
        callReadOnlyFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="deployer">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl } from '@stacks/transactions';

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;

    const contractAddress = `${wallet}.pool`; // [!code highlight]
    const args = [Cl.standardPrincipal(wallet)];

    const getParticipant = simnet.callReadOnlyFn(contractAddress, 'get-participant', args, wallet); // [!code highlight]
    
    console.log(getParticipant.result);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-participant-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 9,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
            result: ClarityValue;
            events: ClarityEvent[];
        }
        
        callReadOnlyFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl, cvToValue } from '@stacks/transactions'; // [!code highlight]

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;

    const args = [Cl.standardPrincipal(wallet)];

    const getContributionAmount = simnet.callReadOnlyFn("pool", "get-participant-contribution-amount", args, wallet);

    const normalizedContributionAmount = cvToValue(getContributionAmount.result); // [!code highlight]

    console.log(normalizedContributionAmount);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-participant-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        42000000n
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
            result: ClarityValue;
            events: ClarityEvent[];
        }
        
        callReadOnlyFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>
    
  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`callPublicFn`</h2>

Call public functions exposed by a contract.

This method returns an object with the result of the function call as a Clarity Value and the events fired during the function execution. It takes function arguments in the form in Clarity Values, available in the package [`@stacks/transactions`](/stacks/stacks.js/packages/transactions).

It will simulate a block being mined and increase the block height by one.

### Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The contract identifier of the contract.

<span>Example: `pool`</span>
</Property>

<Property required={true} deprecated={false} name={"method"} type={"string"}>
The name of the public function within the contract.

<span>Example: `register-participant`</span>
</Property>

<Property required={true} deprecated={false} name={"args"} type={"ClarityValue[]"}>
The arguments to pass to the public function. If no arguments are needed, pass an empty array.

<span>Example: `[Cl.standardPrincipal('ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5')]`</span>
</Property>

<Property required={true} deprecated={false} name={"sender"} type={"string"}>
The Stacks address of the sender.

<span>Example: `ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Broadcasting your transaction with no arguments</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Handling the response</Badge>
    </TabsTrigger>
    <TabsTrigger value="events" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Selecting the events</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl } from '@stacks/transactions';

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;

    const args = [Cl.standardPrincipal(wallet)];

    const registerParticipant = simnet.callPublicFn('pool', 'register-participant', args, wallet); // [!code highlight]
    
    console.log(registerParticipant.result);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (print { message: "Registered", who: who, at: block-height })
            (ok true)
          )
        )

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-participant-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 7,
          value: {
            type: 3,
          },
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }
        
        callPublicFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl, cvToValue } from '@stacks/transactions'; // [!code highlight]

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;

    const args = [Cl.standardPrincipal(wallet)];

    const registerParticipant = simnet.callPublicFn('pool', 'register-participant', args, wallet);
    
    const normalizedregisterParticipant = cvToValue(registerParticipant.result); // [!code highlight]

    console.log(normalizedregisterParticipant);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (print { message: "Registered", who: who, at: block-height })
            (ok true)
          )
        )

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-participant-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: "bool",
          value: true,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }
        
        callPublicFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="events">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl, cvToValue } from '@stacks/transactions'; // [!code highlight]

    import type { ClarityValue } from '@stacks/transactions'; // [!code highlight]

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;

    const args = [Cl.standardPrincipal(wallet)];

    const registerParticipant = simnet.callPublicFn('pool', 'register-participant', args, wallet);
    
    const eventValues = registerParticipant.events.map((event) =>
      cvToValue(event.data.value as ClarityValue) // [!code highlight]
    );

    console.log(eventValues);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (print { message: "Registered", who: who, at: block-height })
            (ok true)
          )
        )

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-participant-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        [
          {
            at: {
              type: "uint",
              value: "2",
            },
            message: {
              type: "(string-ascii 10)",
              value: "Registered",
            },
            who: {
              type: "principal",
              value: "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
            },
          }
        ]
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }
        
        callPublicFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`transferSTX`</h2>

Transfer STX from an address to an other. The amount is in `uSTX`.

It will simulate a block being mined and increase the block height by one.

### Parameters

<Property required={true} deprecated={false} name={"amount"} type={"number | bigint"}>
The amount of `uSTX` to transfer.

<span>Example: `1000000, ie 1 STX`</span>
</Property>

<Property required={true} deprecated={false} name={"recipient"} type={"string"}>
The Stacks address of the recipient.

<span>Example: `ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5`</span>
</Property>

<Property required={true} deprecated={false} name={"sender"} type={"string"}>
The Stacks address of the sender.

<span>Example: `ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Transferring STX</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Handling the response</Badge>
    </TabsTrigger>
    <TabsTrigger value="events" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Selecting the events</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl } from '@stacks/transactions';

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const recipient = accounts.get('wallet_1')!;
    const amount = 42000000; // 42 STX

    const transferSTX = simnet.transferSTX(amount, recipient, simnet.deployer); // [!code highlight]
    
    console.log(transferSTX);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          result: {
            type: 7,
            value: {
              type: 3,
            },
          },
          events: [
            {
              event: "stx_transfer_event",
              data: [
                {
                  amount: "42000000",
                  memo: "",
                  recipient: "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",
                  sender: "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
                },
              ],
            }
          ],
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }
        
        transferSTX(
          amount: number | bigint,
          recipient: string,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl, cvToValue } from '@stacks/transactions'; // [!code highlight]

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const recipient = accounts.get('wallet_1')!;
    const amount = 42000000; // 42 STX

    const transferSTX = simnet.transferSTX(amount, recipient, simnet.deployer);
    
    const normalizedTransferSTX = cvToValue(transferSTX.result); // [!code highlight]

    console.log(normalizedTransferSTX);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          type: "bool",
          value: true,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }
        
        transferSTX(
          amount: number | bigint,
          recipient: string,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="events">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl, cvToValue } from '@stacks/transactions'; // [!code highlight]

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const recipient = accounts.get('wallet_1')!;
    const amount = 42000000; // 42 STX

    const transferSTX = simnet.transferSTX(amount, recipient, simnet.deployer);

    const eventValues = transferSTX.events.map((event) => event); // [!code highlight]

    console.log(eventValues);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        [
          {
            event: "stx_transfer_event",
            data: {
              amount: "42000000",
              memo: "",
              recipient: "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",
              sender: "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
            },
          }
        ]
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }
        
        transferSTX(
          amount: number | bigint,
          recipient: string,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`deployContract`</h2>

Deploy a contract to the Simnet.

It will simulate a block being mined and increase the block height by one.

### Parameters

<Property required={true} deprecated={false} name={"name"} type={"string"}>
The name of the contract to be deployed.

<span>Example: `hello-world`</span>
</Property>

<Property required={true} deprecated={false} name={"content"} type={"string"}>
The Clarity source code (or content) of the contract.

<span>Example: `(define-read-only (say-hi) (ok "Hello World"))`</span>
</Property>

<Property required={false} deprecated={false} name={"options"} type={"DeployContractOptions | null"}>
An object to specify options, such as the Clarity version.

<span>Example: `{ clarityVersion: 2 }` | `null`</span>
</Property>

<Property required={true} deprecated={false} name={"sender"} type={"string"}>
The Stacks address of the sender.

<span>Example: `ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Deploying your contract</Badge>
    </TabsTrigger>
    <TabsTrigger value="options" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Specifying a Clarity version</Badge>
    </TabsTrigger>
    <TabsTrigger value="interact" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Interacting with your contract</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl, cvToValue } from '@stacks/transactions';

    const simnet = await initSimnet();

    const sourceCode = '(define-read-only (say-hi) (ok "Hello World"))';
    const deployContract = simnet.deployContract('hello-world', sourceCode, null, simnet.deployer); // [!code highlight]

    const normalizedDeployContract = cvToValue(deployContract.result); // [!code highlight]

    console.log(normalizedDeployContract);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        true
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }
        
        deployContract(
          name: string,
          content: string,
          options: DeployContractOptions | null,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="options">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl, cvToValue } from '@stacks/transactions';

    const simnet = await initSimnet();

    const sourceCode = '(define-read-only (say-hi) (ok "Hello World"))';
    const deployContract = simnet.deployContract('hello-world', sourceCode, { clarityVersion: 2 }, simnet.deployer); // [!code highlight]

    const normalizedDeployContract = cvToValue(deployContract.result);

    console.log(normalizedDeployContract);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        true
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }
        
        deployContract(
          name: string,
          content: string,
          options: DeployContractOptions | null,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="interact">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { Cl, cvToValue } from '@stacks/transactions';

    const simnet = await initSimnet();

    const sourceCode = '(define-read-only (say-hi) (ok "Hello World"))';
    const deployContract = simnet.deployContract('hello-world', sourceCode, null, simnet.deployer);

    const sayHi = simnet.callReadOnlyFn("hello-world", "say-hi", [], simnet.deployer); // [!code highlight]

    console.log(cvToValue(sayHi.result));
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          type: "(string-ascii 11)",
          value: "Hello World",
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }
        
        deployContract(
          name: string,
          content: string,
          options: DeployContractOptions | null,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`mineBlock`</h2>

The `callPublicFn`, `transferSTX`, and `deployContract` methods all mine one block with only one transaction. It can also be useful to mine a block with multiple transactions.

This is what `mineBlock` is for.

It take an array of transaction objects. The transactions can be built with the `tx` helper exported by the SDK.

The `tx` helper has three methods
- `callPublicFn`
- `transferSTX`
- `deployContract`

These methods have the same interface as the Simnet methods but instead of performing a transaction, it will build a transaction object than can be passed to the `mineBlock` function.

### Parameters

<Property required={true} deprecated={false} name={"txs"} type={"Tx[]"}>
An array of transactions to be included in the block.

<span>Example: `[tx.transferSTX(100, recipient, sender), ...]`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Mining multiple transactions in a single block</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet, tx } from '@hirosystems/clarinet-sdk'; // [!code highlight]
    import { Cl, cvToValue } from '@stacks/transactions';

    const simnet = await initSimnet();

    const accounts = simnet.getAccounts();
    const wallet = accounts.get("wallet_1")!;

    const block = simnet.mineBlock([ // [!code highlight]
      tx.callPublicFn("counter", "increment", [], simnet.deployer), // [!code highlight]
      tx.callPublicFn("counter", "add", [Cl.uint(10)], simnet.deployer), // [!code highlight]
      tx.transferSTX(19000000, wallet, simnet.deployer), // [!code highlight]
    ]); // [!code highlight]

    block.forEach((tx) => {
      console.log(cvToValue(tx.result));
      if (tx.events.length > 0) console.log(tx.events);
    });
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity
        (define-data-var count uint u0)

        (define-public (increment)
          (begin
            (var-set count (+ (var-get count) u1))
            (ok (var-get count))
          )
        )

        (define-public (add (amount uint))
          (begin
            (var-set count (+ (var-get count) amount))
            (ok (var-get count))
          )
        )
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: "uint",
          value: "1",
        }
        {
          type: "uint",
          value: "11",
        }
        {
          type: "bool",
          value: true,
        }
        [
          {
            event: "stx_transfer_event",
            data: {
              amount: "19000000",
              memo: "",
              recipient: "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",
              sender: "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
            },
          }
        ]
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }
        
        mineBlock(txs: Tx[]): ParsedTransactionResult[]
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`mineEmptyBlock`</h2>

Mine one empty block and increase the block height by one.

Returns the new block height.

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Mining an empty block</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';

    const simnet = await initSimnet();

    console.log(`simnet.blockHeight: ${simnet.blockHeight}`);

    const newBlockHeight = simnet.mineEmptyBlock(); // [!code highlight]

    console.log(`newBlockHeight: ${newBlockHeight}`);
    console.log(`simnet.blockHeight: ${simnet.blockHeight}`);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        "simnet.blockHeight: 1"
        "newBlockHeight: 2"
        "simnet.blockHeight: 2"
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        mineEmptyBlock(): number
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`mineEmptyBlocks`</h2>

Mine multiple empty blocks to reach a certain block height.

Returns the new block height.

### Parameters

<Property required={false} deprecated={false} name={"count"} type={"number"}>
The number of empty blocks to mine. This parameter is optional.

<span>Example: `5`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Mining multiple empty blocks</Badge>
    </TabsTrigger>
    <TabsTrigger value="options" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Mining an empty block without a specified count</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';

    const simnet = await initSimnet();

    console.log(`simnet.blockHeight: ${simnet.blockHeight}`);
    
    const newHeight = simnet.mineEmptyBlocks(5); // [!code highlight]

    console.log(`newBlockHeight: ${newBlockHeight}`);
    console.log(`simnet.blockHeight: ${simnet.blockHeight}`);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        "simnet.blockHeight: 1"
        "newBlockHeight: 6"
        "simnet.blockHeight: 6"
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        mineEmptyBlocks(count?: number): number
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
  <TabsContent value="options">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';

    const simnet = await initSimnet();

    console.log(`simnet.blockHeight: ${simnet.blockHeight}`);
    
    const newHeight = simnet.mineEmptyBlocks(); // [!code highlight]

    console.log(`newBlockHeight: ${newBlockHeight}`);
    console.log(`simnet.blockHeight: ${simnet.blockHeight}`);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        "simnet.blockHeight: 1"
        "newBlockHeight: 2"
        "simnet.blockHeight: 2"
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        mineEmptyBlocks(count?: number): number
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`runSnippet`</h2>

Execute arbitrary Clarity code directly, allowing to test and interact with smart contract functions without deploying them.

### Parameters

<Property required={true} deprecated={false} name={"snippet"} type={"string"}>
The Clarity code snippet to be executed.

<span>Example: `(define-read-only (get-balance) (ok stx-balance))`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Executing arbitrary Clarity code</Badge>
    </TabsTrigger>
    <TabsTrigger value="transfer" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Running a snippet for a STX transfer</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';

    const simnet = await initSimnet();

    const codeSnippet = simnet.runSnippet('(stx-account tx-sender)'); // [!code highlight]

    console.log(Cl.prettyPrint(codeSnippet, 2));
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          locked: u0,
          unlock-height: u0,
          unlocked: u100000000000000
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        runSnippet(snippet: string): string | ClarityValue
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
  <TabsContent value="transfer">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';
    import { cvToValue } from "@stacks/transactions";

    const simnet = await initSimnet();
    const accounts = simnet.getAccounts();
    const recipient = accounts.get("wallet_1")!;

    const codeSnippet = simnet.runSnippet(`(stx-transfer? u19000000 tx-sender '${recipient})`); // [!code highlight]

    console.log(cvToValue(codeSnippet));
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          type: "bool",
          value: true,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        runSnippet(snippet: string): string | ClarityValue
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`getContractsInterfaces`</h2>

Returns the interfaces of the project contracts as a Map of Contracts with the keys being the contract addresses.

The interfaces contain information such as the available `functions`, `data-vars` and `maps`, `NFTs`, and the `FTs` defined in the contract.

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Getting a specific contract interface</Badge>
    </TabsTrigger>
    <TabsTrigger value="filter" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Filtering for functions and maps</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';

    const simnet = await initSimnet();

    const contractInterfaces = simnet.getContractsInterfaces(); // [!code highlight]

    const poolContract = contractInterfaces.get(`${simnet.deployer}.pool`); // [!code highlight]

    console.log(poolContract);
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (ok true)
          )
        )

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          functions: [
            {
              name: "register-participant",
              access: "public",
              args: [
                [Object ...]
              ],
              outputs: [Object ...],
            }, {
              name: "get-participant",
              access: "read_only",
              args: [
                [Object ...]
              ],
              outputs: [Object ...],
            }, {
              name: "is-active",
              access: "read_only",
              args: [],
              outputs: [Object ...],
            }
          ],
          variables: [],
          maps: [
            {
              name: "ParticipantStatus",
              key: "principal",
              value: [Object ...],
            }, {
              name: "Participants",
              key: "principal",
              value: "bool",
            }
          ],
          fungible_tokens: [],
          non_fungible_tokens: [],
          epoch: "Epoch25",
          clarity_version: "Clarity2",
        }

        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        getContractsInterfaces(): Map<string, ContractInterface>
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
  <TabsContent value="filter">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';

    const simnet = await initSimnet();

    const contractInterfaces = simnet.getContractsInterfaces(); // [!code highlight]

    const poolContract = contractInterfaces.get(`${simnet.deployer}.pool`);

    console.log({
      functions: poolContract?.functions, // [!code highlight]
      maps: poolContract?.maps, // [!code highlight]
    });
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (ok true)
          )
        )

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          functions: [
            {
              name: "register-participant",
              access: "public",
              args: [
                [Object ...]
              ],
              outputs: [Object ...],
            }, {
              name: "get-participant",
              access: "read_only",
              args: [
                [Object ...]
              ],
              outputs: [Object ...],
            }, {
              name: "get-participant-contribution-amount",
              access: "read_only",
              args: [
                [Object ...]
              ],
              outputs: [Object ...],
            }, {
              name: "is-active",
              access: "read_only",
              args: [],
              outputs: [Object ...],
            }
          ],
          maps: [
            {
              name: "ParticipantStatus",
              key: "principal",
              value: [Object ...],
            }, {
              name: "Participants",
              key: "principal",
              value: "bool",
            }
          ],
        }

        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        getContractsInterfaces(): Map<string, ContractInterface>
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`getContractSource`</h2>

Get the source code of a contract as a string.

### Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The identifier of the contract for which the source code is requested.

<span>Example: `pool`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Getting the source code of a contract</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';

    const simnet = await initSimnet();

    const contractSource = simnet.getContractSource('pool'); // [!code highlight]

    console.log(contractSource);
    ```

    <Accordions>
      <Accordion title="Response">
        ```clarity
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (ok true)
          )
        )

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-participant-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        getContractSource(contract: string): string | undefined
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='api my-3'>

<div className='flex-1'>

<h2 className='mt-0'>`getContractAST`</h2>

Get the full AST (Abstract Syntax Tree) of a Clarity contract.

It throws an error if it fails to get the AST or to encode it.

<Callout title="WIP" type="warn">
The ContractAST TypeScript is still very simple but will be improved over time.
</Callout>

### Parameters

<Property required={true} deprecated={false} name={"contractId"} type={"string"}>
The identifier of the contract for which the AST (Abstract Syntax Tree) is requested.

<span>Example: `pool`</span>
</Property>

</div>

<APIExample className='api-example xl:w-[50%]'>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge variant='outline' className='badge transition-colors hover:text-neutral-900 dark:group-hover:text-white'>Getting the source code of a contract</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    import { initSimnet } from '@hirosystems/clarinet-sdk';

    const simnet = await initSimnet();

    const contractAST = simnet.getContractAST('pool'); // [!code highlight]

    console.log(contractAST);
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          contract_identifier: {
            issuer: [ 26, [
                109, 120, 222, 123, 6, 37, 223, 191, 193, 108, 58, 138, 87, 53, 246, 220,
                61, 195, 242, 206
              ] ],
            name: "pool",
          },
          pre_expressions: [],
          expressions: [
            {
              expr: [Object ...],
              id: 1,
              span: [Object ...],
              pre_comments: [],
              end_line_comment: undefined,
              post_comments: [],
            },
            ...
          ],
          top_level_expression_sorting: [ 0, 1, 2, 3, 4, 5 ],
          referenced_traits: Map {},
          implemented_traits: [],
          wasm_module: undefined,
        }

        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        getContractAST(contractId: string): ContractAST
        ```
      </Accordion>
    </Accordions>
  </TabsContent>
</Tabs>

</APIExample>

</API>

</Root>